(this.webpackJsonpindecision=this.webpackJsonpindecision||[]).push([[0],{200:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=a(20),l=a.n(r),c=(a(83),a(77)),s=a(13),i=a(5),u=a(21),f=a(16),m=a(17),d=(a(84),a(30));var b=function(e){var t=e.owner,a=e.repo;return fetch("https://api.github.com/repos/".concat(t,"/").concat(a)).then((function(e){return e.json()}))};var h=function(e){var t=e.owner,a=e.repo,o=Object(d.a)(/([0-9]+)(?:(?![\n,\.0-9])[\s\S])+?(?=rel="last")/,{count:1});return fetch("https://api.github.com/repos/".concat(t,"/").concat(a,"/commits?per_page=1")).then((function(e){if(e.ok)return e.headers.get("Link").match(o).groups.count;throw new Error(e.status)}))};var p=function(e){var t=e.owner,a=e.repo,o=Object(d.a)(/([0-9]+)(?:(?![\n,\.0-9])[\s\S])+?(?=rel="last")/,{count:1});return fetch("https://api.github.com/repos/".concat(t,"/").concat(a,"/issues?per_page=1")).then((function(e){if(e.ok)return e.headers.get("Link").match(o).groups.count;throw new Error(e.status)}))};var g=function(e){var t=e.owner,a=e.repo,o=Object(d.a)(/([0-9]+)(?:(?![\n,\.0-9])[\s\S])+?(?=rel="last")/,{count:1});return fetch("https://api.github.com/repos/".concat(t,"/").concat(a,"/pulls?per_page=1")).then((function(e){if(e.ok)return e.headers.get("Link").match(o).groups.count;throw new Error(e.status)}))},E=a(28),k=a.n(E),y=function(e){var t=e.email,a=e.framework;return k.a.post("/api/votes",{email:t,framework:a}).then((function(e){return e.data}))},C=function(e){var t=[{name:"ember.js",total:0},{name:"vue",total:0},{name:"angular.js",total:0},{name:"react",total:0}];return e.forEach((function(e){t.forEach((function(t){t.name===e.framework&&(t.total=t.total+1)}))})),t},v=a(40);function j(){return n.a.createElement(v.a,{style:{backgroundColor:"#000080",padding:"2%",margin:"0%"}},n.a.createElement("h1",{style:{backgroundColor:"#000060",padding:"0%",margin:"0%"},className:"jumbotron"},"Indecision"))}var w=a(9),S=a(10),O=a(6),N=a(11),W=a(15),x=a(12),F=function(e){Object(O.a)(a,e);var t=Object(N.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){return console.log(this.props.repos),n.a.createElement("div",null,n.a.createElement(x.a,{style:{backgroundColor:"#000058",paddingBottom:"2%"}},n.a.createElement(W.Doughnut,{data:{labels:this.props.repos.map((function(e){return e.name})),datasets:[{label:"API DATA",backgroundColor:["#0dba86","#00e6e6","#ff4500","#e6003a"],borderColor:"#ffff1b",borderWidth:1,data:this.props.repos.map((function(e){return e.stargazers_count}))}]},options:{title:{display:!0,text:"Stars",fontSize:30,fontColor:"#ffff1b"},legend:{display:!0,position:"left"}}})))}}]),a}(n.a.Component),z=function(e){Object(O.a)(a,e);var t=Object(N.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){return console.log(this.props.repos),n.a.createElement("div",null,n.a.createElement(x.a,{style:{backgroundColor:"#000058",paddingBottom:"2%"}},n.a.createElement(W.Doughnut,{data:{labels:this.props.repos.map((function(e){return e.name})),datasets:[{label:"Forks",backgroundColor:["#0dba86","#00e6e6","#ff4500","#e6003a"],borderColor:"#ffff1b",borderWidth:1,data:this.props.repos.map((function(e){return e.forks_count}))}]},options:{title:{display:!0,text:"Forks",fontSize:30,fontColor:"#ffff1b"},legend:{display:!0,position:"left"}}})))}}]),a}(n.a.Component),I=function(e){Object(O.a)(a,e);var t=Object(N.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){return console.log(this.props.repos),n.a.createElement("div",null,n.a.createElement(x.a,{style:{backgroundColor:"#000058",paddingBottom:"2%"}},n.a.createElement(W.Doughnut,{data:{labels:this.props.repos.map((function(e){return e.name})),datasets:[{label:"Commits",backgroundColor:["#0dba86","#00e6e6","#ff4500","#e6003a"],borderColor:"#ffff1b",borderWidth:1,data:this.props.commits}]},options:{title:{display:!0,text:"Commits",fontSize:30,fontColor:"#ffff1b"},legend:{display:!0,position:"left"}}})))}}]),a}(n.a.Component),P=function(e){Object(O.a)(a,e);var t=Object(N.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){return console.log(this.props.repos),n.a.createElement("div",null,n.a.createElement(x.a,{style:{backgroundColor:"#000058",paddingBottom:"2%"}},n.a.createElement(W.Doughnut,{data:{labels:this.props.repos.map((function(e){return e.name})),datasets:[{label:"Issues",backgroundColor:["#0dba86","#00e6e6","#ff4500","#e6003a"],borderColor:"#ffff1b",borderWidth:1,data:this.props.issues}]},options:{title:{display:!0,text:"Issues",fontSize:30,fontColor:"#ffff1b"},legend:{display:!0,position:"left"}}})))}}]),a}(n.a.Component),B=function(e){Object(O.a)(a,e);var t=Object(N.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){return console.log(this.props.repos),n.a.createElement("div",null,n.a.createElement(x.a,{style:{backgroundColor:"#000058",paddingBottom:"2%"}},n.a.createElement(W.Doughnut,{data:{labels:this.props.repos.map((function(e){return e.name})),datasets:[{label:"Pulls",backgroundColor:["#0dba86","#00e6e6","#ff4500","#e6003a"],borderColor:"#ffff1b",borderWidth:1,data:this.props.pulls}]},options:{title:{display:!0,text:"Pulls",fontSize:30,fontColor:"#ffff1b"},legend:{display:!0,position:"left"}}})))}}]),a}(n.a.Component),H=function(e){Object(O.a)(a,e);var t=Object(N.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){return console.log(C(this.props.votes)),n.a.createElement("div",null,n.a.createElement(x.a,{style:{backgroundColor:"#000058",paddingBottom:"2%"}},n.a.createElement(W.Doughnut,{data:{labels:C(this.props.votes).map((function(e){return e.name})),datasets:[{label:"Votes",backgroundColor:["#0dba86","#00e6e6","#ff4500","#e6003a"],borderColor:"#ffff1b",borderWidth:1,data:C(this.props.votes).map((function(e){return e.total}))}]},options:{title:{display:!0,text:"Votes",fontColor:"#ffff1b",fontSize:30},legend:{display:!0,position:"left"}}})))}}]),a}(n.a.Component),V=a(76);function D(){return n.a.createElement("div",null,n.a.createElement("h1",{style:{color:"red"}},"Sorry, looks like there's already a vote for this email address!"))}function A(){return n.a.createElement("div",null,n.a.createElement("h1",{style:{color:"red"}},"Sorry, looks like you already voted once this browser session!"))}function R(){return n.a.createElement("div",null,n.a.createElement("h1",{style:{color:"#14ff65"}},"Vote Recorded!"))}var _=[{owner:"vuejs",repo:"vue"},{owner:"facebook",repo:"react"},{owner:"emberjs",repo:"ember.js"},{owner:"angular",repo:"angular.js"}],L=function(e){Object(O.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(w.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={email:"",selectedFramework:"",hasError:!1,hasSuccess:!1},e.handleChange=function(t){e.setState(Object(V.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),localStorage.getItem("sameSession")?(e.setState({hasEmailError:!1,hasSessionError:!0,hasSuccess:!1,email:"",selectedFramework:""}),e.myFormRef.reset()):y({email:e.state.email,framework:e.state.selectedFramework}).then((function(){e.props.handleVote({email:e.state.email,framework:e.state.selectedFramework}),e.setState({email:"",selectedFramework:"",hasEmailError:!1,hasSessionError:!1,hasSuccess:!0}),e.myFormRef.reset()})).then((function(){localStorage.setItem("sameSession",!0),console.log(localStorage)})).catch((function(){e.setState({hasEmailError:!0,hasSessionError:!1,hasSuccess:!1,email:"",selectedFramework:""}),e.myFormRef.reset()})).then((function(){console.log(e.state.hasError)}))},e}return Object(S.a)(a,[{key:"render",value:function(){var e=this;return console.log(this.props.frameworks,"waffle"),n.a.createElement(x.a,{style:{backgroundColor:"#000058"}},n.a.createElement("div",{className:"card-header"},"Vote!"),n.a.createElement("div",{className:"card-body"},n.a.createElement("form",{onSubmit:this.handleSubmit,ref:function(t){return e.myFormRef=t}},n.a.createElement("div",{className:"form-group"},n.a.createElement("h4",null,"Enter Your Email:"),n.a.createElement("input",{type:"text",name:"email",placeholder:"email",value:this.email,onChange:this.handleChange,required:!0,style:{padding:"1%",backgroundColor:"#ffff1b",color:"#000080",fontSize:"20px",fontWeight:"bold"}})),n.a.createElement("h4",null,"Choose a Framework:"),n.a.createElement("div",null,n.a.createElement("select",{name:"selectedFramework",value:this.selectedFramework,onChange:this.handleChange,required:!0,style:{padding:"1%"}},n.a.createElement("option",{value:"",disabled:!0},"Choose a Framework"),_.map((function(e){return n.a.createElement("option",{value:e.repo},e.repo)})),"}")),n.a.createElement("div",{className:"text-center"},n.a.createElement(i.a,{className:"btn-lg",style:{backgroundColor:"#ffff1b",color:"#000080",fontSize:"20px",fontWeight:"bold",marginTop:"2%"},type:"submit"},"Vote")))),this.state.hasEmailError&&n.a.createElement(D,null),this.state.hasSessionError&&n.a.createElement(A,null),this.state.hasSuccess&&n.a.createElement(R,null))}}]),a}(n.a.Component);function J(){return n.a.createElement(v.a,{style:{backgroundColor:"#000080",padding:"2%",margin:"0%"}},n.a.createElement("h1",{style:{backgroundColor:"#000060",padding:"0%",margin:"0%"},className:"jumbotron"},"Hi there!"),n.a.createElement("h3",null,"Welcome to Indecision!"),n.a.createElement("h5",null,"Indecision pulls data from Github's stellar ",n.a.createElement("a",{href:"https://docs.github.com/en/free-pro-team@latest/rest/overview"},"API")," to compare repos for four popular frontend frameworks: ",n.a.createElement("a",{href:"https://github.com/vuejs/vue"},"Vue"),", ",n.a.createElement("a",{href:"https://github.com/facebook/react"},"React"),", ",n.a.createElement("a",{href:"https://github.com/angular/angular.js"},"Angular"),", and ",n.a.createElement("a",{href:"https://github.com/emberjs/ember.js/"},"Ember"),"."),n.a.createElement("h5",null,"Check out the stats by clicking on the buttons below, and when you feel super informed, cast your totally objective vote for your fave using the handy form."),n.a.createElement("h5",null,"(NB: Only one vote per email per visit!)"),n.a.createElement("h5",null,"Check out the repo for this project ",n.a.createElement("a",{href:"https://github.com/Jess-White/indecision"},"here!")))}a(198);var q=function(){var e=Object(o.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1],l=Object(o.useState)([]),d=Object(s.a)(l,2),E=d[0],y=d[1],C=Object(o.useState)([]),v=Object(s.a)(C,2),w=v[0],S=v[1],O=Object(o.useState)([]),N=Object(s.a)(O,2),W=N[0],x=N[1],V=Object(o.useState)({email:"",framework:""}),D=Object(o.useState)(""),A=Object(s.a)(D,2),R=A[0],q=A[1],T=Object(o.useState)([]),G=Object(s.a)(T,2),M=G[0],U=G[1],Y=Object(o.useState)(!1),$=Object(s.a)(Y,2),K=$[0],Q=$[1],X=Object(o.useState)(!1),Z=Object(s.a)(X,2),ee=Z[0],te=Z[1],ae=Object(o.useState)(!1),oe=Object(s.a)(ae,2),ne=oe[0],re=oe[1],le=Object(o.useState)(!1),ce=Object(s.a)(le,2),se=ce[0],ie=ce[1],ue=Object(o.useState)(!1),fe=Object(s.a)(ue,2),me=fe[0],de=fe[1],be=Object(o.useState)(!1),he=Object(s.a)(be,2),pe=he[0],ge=he[1],Ee=Object(o.useState)(!1),ke=Object(s.a)(Ee,2),ye=ke[0],Ce=ke[1],ve=function(){return Q(!1)},je=function(){return re(!1)},we=function(){return ie(!1)},Se=function(){return de(!1)},Oe=function(){return ge(!1)};return Object(o.useEffect)((function(){(function(e){var t=e.map(b);return Promise.all(t)})(_).then((function(e){r(e)})).catch((function(e){q("Something went wrong.")})),function(e){var t=e.map(h);return Promise.all(t)}(_).then((function(e){console.log(e),y(e)})).catch((function(e){q("Something went wrong.")})),function(e){var t=e.map(p);return Promise.all(t)}(_).then((function(e){console.log(e),S(e)})).catch((function(e){q("Something went wrong.")})),function(e){var t=e.map(g);return Promise.all(t)}(_).then((function(e){console.log(e),x(e)})).catch((function(e){q("Something went wrong.")})),k()("/api/votes").then((function(e){return e.data})).then((function(e){U(e)})).catch((function(e){q("Something went wrong.")}))}),[]),R?n.a.createElement("h1",null,R):n.a.createElement("div",{className:"App"},n.a.createElement(j,null),n.a.createElement(i.a,{className:"btn-lg",style:{backgroundColor:"#ffff1b",color:"#000080",fontSize:"20px",fontWeight:"bold",margin:"2%"},type:"submit",onClick:function(){te(!1),re(!1),ie(!1),de(!1),ge(!1),Q(!1),Ce(!0)}},"What is this for?"),n.a.createElement(u.a,{show:ye,onHide:ve},n.a.createElement(f.a,null,n.a.createElement(J,null)),n.a.createElement(m.a,null,n.a.createElement(i.a,{className:"close-btn",color:"danger",style:{backgroundColor:"#000080",color:"#ffff1b",width:"100%"},onClick:function(){return Ce(!1)}},"Close"))),n.a.createElement(i.a,{className:"btn-lg",style:{backgroundColor:"#ffff1b",color:"#000080",fontSize:"20px",fontWeight:"bold",margin:"2%"},type:"submit",onClick:function(){te(!1),re(!1),ie(!1),de(!1),ge(!1),Q(!0),Ce(!1)}},"Stars"),n.a.createElement(u.a,{show:K,onHide:ve},n.a.createElement(f.a,null,n.a.createElement(F,{repos:a})),n.a.createElement(m.a,null,n.a.createElement(i.a,{className:"close-btn",color:"danger",style:{backgroundColor:"#000080",color:"#ffff1b",width:"100%"},onClick:ve},"Close"))),n.a.createElement(i.a,{className:"btn-lg",style:{backgroundColor:"#ffff1b",color:"#000080",fontSize:"20px",fontWeight:"bold",margin:"2%"},type:"submit",onClick:function(){Q(!1),re(!1),ie(!1),de(!1),ge(!1),te(!0),Ce(!1)}},"Forks"),n.a.createElement(u.a,{show:ee,onHide:ve},n.a.createElement(f.a,null,n.a.createElement(z,{repos:a})),n.a.createElement(m.a,null,n.a.createElement(i.a,{className:"close-btn",color:"danger",style:{backgroundColor:"#000080",color:"#ffff1b",width:"100%"},onClick:function(){return te(!1)}},"Close"))),n.a.createElement(i.a,{className:"btn-lg",style:{backgroundColor:"#ffff1b",color:"#000080",fontSize:"20px",fontWeight:"bold",margin:"2%"},type:"submit",onClick:function(){Q(!1),te(!1),ie(!1),de(!1),ge(!1),re(!0),Ce(!1)}},"Commits"),n.a.createElement(u.a,{show:ne,onHide:je},n.a.createElement(f.a,null,n.a.createElement(I,{repos:a,commits:E})),n.a.createElement(m.a,null,n.a.createElement(i.a,{className:"close-btn",color:"danger",style:{backgroundColor:"#000080",color:"#ffff1b",width:"100%"},onClick:je},"Close"))),n.a.createElement(i.a,{className:"btn-lg",style:{backgroundColor:"#ffff1b",color:"#000080",fontSize:"20px",fontWeight:"bold",margin:"2%"},type:"submit",onClick:function(){Q(!1),te(!1),re(!1),de(!1),ge(!1),ie(!0),Ce(!1)}},"Issues"),n.a.createElement(u.a,{show:se,onHide:we},n.a.createElement(f.a,null,n.a.createElement(P,{repos:a,issues:w})),n.a.createElement(m.a,null,n.a.createElement(i.a,{className:"close-btn",color:"danger",style:{backgroundColor:"#000080",color:"#ffff1b",width:"100%"},onClick:we},"Close"))),n.a.createElement(i.a,{className:"btn-lg",style:{backgroundColor:"#ffff1b",color:"#000080",fontSize:"20px",fontWeight:"bold",margin:"2%"},type:"submit",onClick:function(){Q(!1),te(!1),re(!1),ie(!1),ge(!1),de(!0),Ce(!1)}},"Pulls"),n.a.createElement(u.a,{show:me,onHide:Se},n.a.createElement(f.a,null,n.a.createElement(B,{repos:a,pulls:W})),n.a.createElement(m.a,null,n.a.createElement(i.a,{className:"close-btn",color:"danger",style:{backgroundColor:"#000080",color:"#ffff1b",width:"100%"},onClick:Se},"Close"))),n.a.createElement(L,{vote:V,handleVote:function(e){U([].concat(Object(c.a)(M),[e]))}}),n.a.createElement(i.a,{className:"btn-lg",style:{backgroundColor:"#ffff1b",color:"#000080",fontSize:"20px",fontWeight:"bold",margin:"2%"},type:"submit",onClick:function(){Q(!1),te(!1),re(!1),ie(!1),de(!1),ge(!0),Ce(!1)}},"See How Other People Voted"),n.a.createElement(u.a,{show:pe,onHide:Oe},n.a.createElement(f.a,null,n.a.createElement(H,{votes:M})),n.a.createElement(m.a,null,n.a.createElement(i.a,{className:"close-btn",style:{backgroundColor:"#000080",color:"#ffff1b",width:"100%"},onClick:Oe},"Close"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));k.a.defaults.baseURL="/",l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},78:function(e,t,a){e.exports=a(200)},83:function(e,t,a){},84:function(e,t,a){}},[[78,1,2]]]);
//# sourceMappingURL=main.0f036be5.chunk.js.map